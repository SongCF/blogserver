<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Markdown转PDF工具 - 纯前端解决方案</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="lib/github.min.css">
</head>
<body>
    <div class="app-container">
        <!-- 头部导航栏 -->
        <header class="app-header">
            <div class="header-content">
                <div class="logo">
                    <svg class="logo-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                        <polyline points="14 2 14 8 20 8"/>
                        <line x1="16" y1="13" x2="8" y2="13"/>
                        <line x1="16" y1="17" x2="8" y2="17"/>
                        <polyline points="10 9 9 9 8 9"/>
                    </svg>
                    <h1>Markdown转PDF工具</h1>
                </div>
                <div class="header-info">
                    <span class="tagline">纯前端解决方案 · 实时预览 · 一键下载</span>
                </div>
            </div>
        </header>

        <!-- 工具条 -->
        <div class="toolbar">
            <div class="toolbar-left">
                <button class="btn btn-primary" id="downloadPdf">
                    <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                        <polyline points="7 10 12 15 17 10"/>
                        <line x1="12" y1="15" x2="12" y2="3"/>
                    </svg>
                    生成PDF
                </button>
                <div class="toolbar-info">
                    <span id="charCount">0 字符</span>
                    <span id="lineCount">0 行</span>
                </div>
            </div>
            <div class="toolbar-right">
                <button class="btn btn-secondary" id="clearBtn">
                    <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="3 6 5 6 21 6"/>
                        <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
                    </svg>
                    清空
                </button>
                <button class="btn btn-secondary" id="sampleBtn">
                    <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"/>
                        <polyline points="13 2 13 9 20 9"/>
                    </svg>
                    示例
                </button>
                <button class="btn btn-secondary" id="helpBtn">
                    <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="10"/>
                        <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
                        <line x1="12" y1="17" x2="12.01" y2="17"/>
                    </svg>
                    帮助
                </button>
            </div>
        </div>

        <!-- 主内容区 -->
        <main class="main-content">
            <!-- 左侧：Markdown编辑器 -->
            <section class="editor-section">
                <div class="section-header">
                    <svg class="section-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>
                        <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
                    </svg>
                    <h2>Markdown编辑器</h2>
                    <div class="section-badges">
                        <span class="badge">实时输入</span>
                        <span class="badge">语法高亮</span>
                    </div>
                </div>
                <div class="editor-container">
                    <textarea id="markdownInput" class="markdown-editor" placeholder="# 开始编写Markdown文档...&#10;&#10;## 这是一个标题&#10;&#10;这是一个段落..."># Markdown转PDF工具使用指南

## 欢迎使用纯前端Markdown转PDF工具

这是一个功能完整的Markdown编辑器，支持**实时预览**和**一键PDF导出**。

### 主要功能

1. **实时预览** - 右侧面板实时显示渲染结果
2. **PDF导出** - 生成高质量PDF文档
3. **代码高亮** - 支持多种编程语言
4. **本地化存储** - 所有依赖本地加载，无需网络
5. **响应式设计** - 适配各种屏幕尺寸

### Markdown语法示例

#### 文本格式化
- **粗体文本** 使用 `**粗体**`
- *斜体文本* 使用 `*斜体*`
- ~~删除线~~ 使用 `~~删除线~~`

#### 列表
1. 有序列表项1
2. 有序列表项2
   - 嵌套无序列表
   - 另一个嵌套项

#### 代码块
```javascript
// JavaScript示例
function calculateSum(a, b) {
    return a + b;
}

console.log(calculateSum(5, 3)); // 输出: 8
```

```python
# Python示例
def greet(name):
    return f"Hello, {name}!"

print(greet("World"))
```

#### 引用
> 这是引用文本。引用可以包含多行内容。
> 这是引用的第二行。

### PDF选项
- 页面尺寸：A4
- 方向：纵向
- 边距：适中
- 字体：标准易读

---
*点击右上角"生成PDF"按钮开始导出*</textarea>
                </div>
            </section>

            <!-- 右侧：PDF预览 -->
            <section class="preview-section">
                <div class="section-header">
                    <svg class="section-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                        <circle cx="12" cy="12" r="3"/>
                    </svg>
                    <h2>PDF预览</h2>
                    <div class="section-badges">
                        <span class="badge badge-preview">实时渲染</span>
                        <span class="badge badge-preview">精确预览</span>
                    </div>
                </div>
                <div class="preview-container">
                    <div id="pdfPreview" class="pdf-preview markdown-body">
                    </div>
                </div>
            </section>
        </main>

        <!-- 底部信息栏 -->
        <footer class="app-footer">
            <div class="footer-content">
                <div class="tech-stack">
                    <span>技术栈: </span>
                    <span class="tech-item">Marked.js</span>
                    <span class="tech-item">html2pdf.js</span>
                    <span class="tech-item">highlight.js</span>
                </div>
                <div class="footer-info">
                    <span>纯前端工具 · 无需服务器 · 全本地运行</span>
                </div>
            </div>
        </footer>

        <!-- 帮助对话框 -->
        <div class="modal" id="helpModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>
                        <svg class="modal-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"/>
                            <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
                            <line x1="12" y1="17" x2="12.01" y2="17"/>
                        </svg>
                        使用帮助
                    </h3>
                    <button class="modal-close" id="closeHelp">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="help-section">
                        <h4>Markdown快捷键</h4>
                        <ul>
                            <li><code>Ctrl+B</code> - 粗体文本</li>
                            <li><code>Ctrl+I</code> - 斜体文本</li>
                            <li><code>Ctrl+K</code> - 插入链接</li>
                            <li><code>Ctrl+Shift+C</code> - 插入代码块</li>
                        </ul>
                    </div>
                    <div class="help-section">
                        <h4>PDF生成提示</h4>
                        <ul>
                            <li>确保内容适合A4页面尺寸</li>
                            <li>复杂表格和大图可能影响排版</li>
                            <li>代码高亮在PDF中完美保留</li>
                            <li>生成过程可能需要几秒钟</li>
                        </ul>
                    </div>
                    <div class="help-section">
                        <h4>PDF分页控制</h4>
                        <ul>
                            <li><code>[pdf-page-break]</code> - 在此位置强制分页</li>
                            <li><code>***pdf***</code> - 简洁分页标记</li>
                            <li>一级标题（#）会自动在新页面开始</li>
                            <li>长段落会自动分页，不会被截断</li>
                        </ul>
                    </div>
                    <div class="help-section">
                        <h4>提示与技巧</h4>
                        <ul>
                            <li>使用示例按钮快速填充内容</li>
                            <li>实时预览可帮助您调整格式</li>
                            <li>支持所有标准Markdown语法</li>
                            <li>工具完全离线运行</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="lib/marked.min.js"></script>
    <script src="lib/highlight.min.js"></script>
    <script src="lib/html2pdf.bundle.min.js"></script>
    <script src="app.js"></script>
</body>
</html>
